---
import { getEntry } from 'astro:content'

import Block from '../../block/index.astro'
import BlockTitle from '../../block/title.astro'
import BlockContent from '../../block/content.astro'

import Employment from './employment/index.astro'
import Education from './education/index.astro'
import Training from './training/index.astro'

const blurb = await getEntry('blurbs', 'experience')

const Content = blurb ? (await blurb.render()).Content : null
---

<Block>
    <div class="flex flex-col space-y-4">
        <BlockTitle>{blurb?.data.title}</BlockTitle>
        <BlockContent>
            {Content ? <Content /> : <p>Content not found</p>}
        </BlockContent>
    </div>
    <div class="md:grid md:grid-cols-2 md:gap-4">
        <div>
            <Employment />
        </div>
        <div>
            <Education />
            <Training />
        </div>
    </div>
</Block>
