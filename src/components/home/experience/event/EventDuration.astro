---
import { format } from 'date-fns'

import EventDescription from './EventDescription.svelte'

interface Props {
    dateFrom: Date
    dateTo: Date | null | undefined
}

const { dateFrom, dateTo } = Astro.props

const now = new Date()
---

<time datetime={dateFrom.toISOString()}>
    {format(dateFrom, 'MMM yyyy')}
</time>
to
{dateTo ? <time datetime={dateTo.toISOString()}>{format(dateTo, 'MMM yyyy')}</time> : 'Present'}

Â·
{
    !dateTo ? (
        <EventDescription client:only="svelte" {dateFrom} dateTo={dateTo ?? now} />
    ) : (
        <EventDescription {dateFrom} dateTo={dateTo ?? now} />
    )
}
